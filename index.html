<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8" />
    <title>GDA Finance</title>

    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
<button id="hamburgerBtn" class="hamburger-btn">☰</button>
<aside class="sidebar">
    <nav>
        <button id="showTransactionsBtn" class="sidebar-btn">Tranzakciók</button>
        <button id="showSharedExpensesBtn" class="sidebar-btn">Megosztott költségek</button>
    </nav>
</aside>

<div class="content-wrapper">

    <!-- Tranzakció lista -->
    <section id="page-transactions">
        <h2>Tranzakciók</h2>
        <div class="container">
        <!-- Új tranzakció gomb -->
        <button id="openModalBtn">Új tranzakció felvétele</button>
        <!-- Modal háttér -->
        <div id="modalOverlay" class="modal-overlay"></div>
        <!-- Modal -->
        <div id="txModal" class="modal">
            <div class="modal-content">
                <h2>Új tranzakció</h2>
                <form id="txForm">
                    <input type="date" name="date" placeholder="Dátum">
                    <input name="month" placeholder="Hónap (YYYYMM)">
                    <input name="amount" placeholder="Összeg">
                    <input list="titlesList" name="title" placeholder="Megnevezés">
                        <datalist id="titlesList"></datalist>
                    <input list="categoriesList" name="category" placeholder="Kategória">
                        <datalist id="categoriesList"></datalist>
                    <input list="paymentTypesList" name="payment_type" placeholder="Fizetési mód">
                     <datalist id="paymentTypesList"></datalist>
                    <input list="transactionTypesList" name="transaction_type" placeholder="Típus">
                        <datalist id="transactionTypesList"></datalist>
                    <label>
                        <label for="is_shared">Megosztott tranzakció?</label>
                        <input type="checkbox" id="is_shared" name="is_shared">
                    </label>
                    <input name="statement_item" placeholder="Kivonat sor">
                    <button type="submit">Mentés</button>
                        <div id="successMsg" class="msg success">Sikeresen mentve!</div>
                        <div id="errorMsg" class="msg error">Hiba történt.</div>
                    <button id="closeModalBtn" type="button" class="secondary">Mégse</button>
                </form>
            </div>
        </div>
    <button id="toggleFiltersBtn">Szűrők</button>
    <div id="filtersPanel" class="filters collapsed">
        <input id="filterMonth" placeholder="Hónap (YYYYMM)">
        <input id="filterDate" placeholder="Dátum (YYYY.MM.DD.)">
        <input id="filterAmount" placeholder="Összeg (pl. 5000, >10000)">
        <input id="filterTitle" list="filterTitlesList" placeholder="Megnevezés">
            <datalist id="filterTitlesList"></datalist>
        <input id="filterCategory" list="filterCategoriesList" placeholder="Kategória">
            <datalist id="filterCategoriesList"></datalist>
        <input id="filterPaymentType" list="filterPaymentsList" placeholder="Fizetési mód">
            <datalist id="filterPaymentsList"></datalist>
        <select id="filterType">
            <option value="">Típus</option>
            <option value="income">Bevétel</option>
            <option value="expense">Kiadás</option>
        </select>
        <select id="filterShared">
            <option value="">Mindegy</option>
            <option value="x">Megosztott</option>
            <option value="0">Nem megosztott</option>
        </select>
        <input id="filterStatement" placeholder="Kivonat sor">
        <button id="clearFiltersBtn" class="secondary">Szűrők törlése</button>
        <button id="loadListBtn">Lista betöltése</button>
    </div>
    <div id="transactions-result-count" class="result-count"></div>

            <label for="itemsPerPage">Tételek száma oldalanként:</label>
            <select id="itemsPerPage">
                <option value="10">10</option>
                <option value="20" selected>20</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="all">Összes</option>
            </select>
            <!-- ÚJ: lapozó -->
            <div id="transactions-pagination" class="pagination">
                <button id="txFirstPageBtn" type="button" class="page-btn">⏮</button>
                <button id="txPrevPageBtn"  type="button" class="page-btn">◀</button>

                <span id="txPageInfo" class="page-info"></span>

                <button id="txNextPageBtn"  type="button" class="page-btn">▶</button>
                <button id="txLastPageBtn"  type="button" class="page-btn">⏭</button>
            </div>
        <table id="transactionsTable" class="tx-table">

        <thead>
            <tr>
                <th data-sort="month">Hónap</th>
                <th data-sort="date">Dátum</th>
                <th data-sort="amount">Összeg</th>
                <th data-sort="title">Megnevezés</th>
                <th data-sort="category">Kategória</th>
                <th data-sort="payment_method">Fizetési mód</th>
                <th data-sort="type">Típus</th>
                <th data-sort="shared">Megosztott?</th>
                <th data-sort="statement_item">Kivonat sor</th>
            </tr>
        </thead>

            <tbody id="transactionsBody"></tbody>
        </table>
    </div>
    </section>

<!-- Shared Expenses Panel -->
    <section id="page-shared-expenses" class="hidden">
        <h2>Megosztott költségek</h2>
            <button id="addSharedExpenseBtn" class="btn-primary">
                + Új megosztott tétel
            </button>
            <button id="addSettlementInlineBtn" class="btn-secondary">
                + Törlesztés
            </button>
            <!-- Összesített egyenleg kijelzése -->
            <div id="sharedBalanceBox" class="balance-box">
                <strong>Egyenleg:</strong>
                <span id="sharedBalanceValue">0</span>
                <span id="sharedBalanceLabel"></span>
            </div>

            <table id="sharedExpensesTable" class="tx-table">
                <thead>
                    <tr>
                        <th>Hónap</th>
                        <th>Dátum</th>
                        <th>Megnevezés</th>
                        <th>Összeg</th>
                        <th>Fizette</th>
                        <th>Saját rész</th>
                        <th>Maradék</th>
                        <th>Partner része</th>
                        <th>Megjegyzés</th>
                    </tr>
                </thead>
                <tbody id="sharedExpensesBody"></tbody>
            </table>
    </section>

<script src="utils/helpers.js"></script>
<script src="scripts/api.js"></script>
<script src="app.js"></script>
</div> <!-- content-wrapper -->

</body>
</html>
